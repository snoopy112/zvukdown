# Zvukdown

## Скрипт для скачивания песен, альбомов и плейлистов во FLAC и MP3 со ~~Сбер~~Звука

Для работы требуется аккаунт с подпиской или пробным периодом.

Перед первым запуском нужно выполнить вход таким образом:

```
python zvukdown.py login <логин> <пароль>
```

Логином является почта пользователя (e-mail). Токен будет сохранён в файл token.txt

При авторизации по номеру телефона нужно войти в аккаунт в браузере, после этого открыть страницу: [https://zvuk.com/api/v2/tiny/profile](https://zvuk.com/api/v2/tiny/profile), найти значение параметра `token` (32 знака) и сохранить его в файл token.txt самостоятельно.

## Использование:

Вам нужны ссылки в которых есть release (альбом), track (один трек из альбома) или playlist («‎Свежие релизы»‎ и пр.)
```
python zvukdown.py https://zvuk.com/release/20382579
python zvukdown.py https://zvuk.com/track/65660217
python zvukdown.py https://zvuk.com/playlist/3
```

Для скачивание своих любимых треков нужно указать параметр `favorites`, файлы будут сохранены в каталог `Моя коллекция`:
```
python zvukdown.py favorites
```

Можно скачивать несколько песен, альбомов или плейлистов одновременно, ссылки должны указываться через пробел:
```
python zvukdown.py https://zvuk.com/track/65907710 https://zvuk.com/track/65961212 https://zvuk.com/release/33748439
```

Если вы скачиваете отдельные треки, то папка создана не будет, файлы будут названы `Автор - Название.flac` или `Автор - Название.mp3` в случае, если трека во flac нет.

Для альбомов папки создаются по правилам торрент трекеров: `Автор - Альбом (год выпуска)`, а треки внутри: `Номер трека - Название.flac` или `Номер трека - Название.mp3`.

Для каждого плейлиста будет создана папка с его названием.

Все теги проставляются автоматически. При скачивании альбома обложка `cover.jpg` копируется в папку.

## Зависимости

- mutagen
- requests

```
pip install -r requirements.txt
```